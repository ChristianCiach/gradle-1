%!TEX root = master.tex
\chapter{The War Plugin} % (fold)
\label{cha:the_war_plugin}
The war plugin extends the JavaPlugin. It disables the default jar archive generation of the Java Plugin and adds a default war archive task. Have also a look at \href{\API tasks/bundling/War.html}{org.gradle.api.tasks.bundling.War}.
\\
\section{Default Settings} % (fold)
\label{sec:default_settings}
The default behavior of the War plugin is to copy the content of \texttt{src/main/webapp} to the root of the archive. Your \texttt{webapp} folder may of course contain a \texttt{WEB-INF} sub-directory, which again may contain a \texttt{web.xml} file. Your compiled classes are compiled to \texttt{WEB-INF/classes}. All the dependencies of the \texttt{runtime}\footnote{The \texttt{runtime} configuration extends the \texttt{compile} configuration.} configuration are copied to \texttt{WEB-INF/lib}. The War plugin add two new dependency configurations: \texttt{providedCompile} and \texttt{providedRuntime}. Those new configurations have the same scope as the respective \texttt{compile} and \texttt{runtime} configurations. Except that they are not added to the war-archive. It is important to note that those \texttt{provided} configurations work transitively. Let's say you add \texttt{commons-httpclient:commons-httpclient:3.0} to any of the provided configurations. This dependency has a dependency on \texttt{commons-codec}. This means neither \texttt{httpclient} nor \texttt{commons-codec} is added to your war, even if \texttt{commons-code} were an explicit dependency of your \texttt{compile} configuration. If you don't want this transitive behavior, simply declare your \texttt{provided} dependencies like \texttt{commons-httpclient:commons-httpclient:3.0@jar}.
% section default_settings (end)
\section{Customizing} % (fold)
\label{sec:customizing}
Here an example with the most important customization options:
\codeInput{../../samples/web-project/build.gradle}
Of course one can configure the different file-sets with a closure to define excludes and includes.
\\

\noindent If you want to enable the generation of the default jar archive additional to the war archive just type:
\begin{Verbatim}
archive_jar.enabled = true
\end{Verbatim}
% section customizing (end)
% chapter the_war_plugin (end)